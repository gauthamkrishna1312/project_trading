{% extends 'user/base.html' %}

{% block title%}
Home
{% endblock %}

{% block content%}
<ul class="messages">
    {% for message in messages %}
    <div {% if message.tags %} class="{{ message.tags }}"{% endif %} class="alert alert-warning alert-dismissible fade show" role="alert">
<P>{{ message }}</P>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
</ul>
<div class="row" style="border-bottom: 2px solid #343a40;">
    {% if user_plans %}
    <h1 class="h2"> Plans</h1>
    <br>
    {% for user_plan in user_plans %}
    {% if user_plan.invested_amount != "0" %}
    <div class="col-md">
        <div class="card text-white mb-3 custom-link" style="max-width: 18rem; text-decoration: none; border: 2px solid #ff5722; border-radius: 5px; transition: transform 0.2s; background-color: #2d4059;">
            <div class="card-body">
                <h4 class="card-title text-center"><strong>{{ user_plan.plan.plan_name }}</strong></h4>
                <h4 class="card-title text-center"><strong>$ {{ user_plan.invested_amount }}</strong></h4>
                <p class="card-text text-center" style="font-size: 1.2em;">({{ user_plan.plan.plan_min_percentage }}% - {{ user_plan.plan.plan_max_percentage }}%)</p>
                <br>
                <!--<p class="card-text text-center" style="font-size: 1.2em;">AMOUNT - {{ user_plan.invested_amount }}</p>-->
                <p class="card-text text-center" style="font-size: 1.2em;">TOTAL DAYS - </p>
                <p class="card-text text-center" style="font-size: 1.2em;">Total Profit - {{ user_plan.user_profit }}</p>
                <p class="card-text text-center" style="font-size: 1.2em;">Status - {{ user_plan.user_status }}</p>
                
            </div>
        </div>
    </div>
        {% endif %}
        {% endfor %}
        {% endif %}
        <br>
        
</div>
<br>
<div class="row"style="border-bottom: 2px solid #343a40;">
    
    {% if payments %}
    <h1 class="h2">Payments</h1>
    {% for payment in payments %}
    {% if payment.transaction_status != "approved" %}
    <div class="col-md">
    <div class="card text-white mb-3 custom-link" style="max-width: 18rem; text-decoration: none; border: 2px solid #ff5722; border-radius: 5px; transition: transform 0.2s; background-color: #2d4059;">
        <div class="card-body">
            <p class="card-text text-center" style="font-size: 1.2em;">payment</p>
            <br>
            <p class="card-text text-center" style="font-size: 1.2em;">AMOUNT - {{ payment.transaction_amount }}</p>
            <p class="card-text text-center" style="font-size: 1.2em;">Status - {{ payment.transaction_status }}</p>
            
        </div>
    </div>
    </div>
    {% endif %}
    {% endfor %}
    {% endif %}
</div>
<br>
<div class="row"style="border-bottom: 2px solid #343a40;">

    {% if withdraws %}
    <h1 class="h2">Withdraws</h1>
    {% for withdraw in withdraws %}
    {% if withdraw.withdraw_status == "pending" %}
    <div class="col">
    
        <div class="card text-white mb-3 custom-link" style="max-width: 18rem; text-decoration: none; border: 2px solid #007BFF; border-radius: 10px; transition: transform 0.2s; background-color: #343a40;">
            <div class="card-body">
                <p class="card-text text-center" style="font-size: 1.2em;"> withdraw </p>
                <br>
                <p class="card-text text-center" style="font-size: 1.2em;">AMOUNT - {{ withdraw.withdraw_amount }}</p>
                <p class="card-text text-center" style="font-size: 1.2em;">Status - {{ withdraw.withdraw_status }}</p>
            
            </div>
        </div>
    </div>
        {% endif %}
    {% endfor %}
    {% endif %}
    {% endblock %}
</div>
